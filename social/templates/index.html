{% load static %}
<!DOCTYPE html>    
<html lang="en">    
<head>    
  <meta charset="utf-8" />    
  <meta name="viewport" content="width=device-width, initial-scale=1" />    
  <title>Login</title>    
  <style>    
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 24px; }    

    /* ✅ Splash Screen */
    #splash {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #fff; /* white background like Instagram */
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.8s ease, visibility 0.8s ease;
    }
    #splash img {
      width: 120px;
      height: auto;
      animation: fadeIn 1.5s ease-in-out infinite alternate;
    }
    @keyframes fadeIn {
      from { opacity: 0.6; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }
    #splash.hidden {
      opacity: 0;
      visibility: hidden;
    }

    form { max-width: 320px; }    
    .field { margin-bottom: 14px; }    
    label { display: block; margin-bottom: 6px; font-weight: 600; }    
    input[type="text"], input[type="email"], input[type="password"] {    
      width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px;    
    }    
    .actions { margin-top: 16px; }    
    button { padding: 10px 14px; border: 1px solid  #222; background: #222; color: #fff; border-radius: 8px; cursor: pointer; }    
    button:hover { opacity: .9; }    
    small { color: #555; }    
    .signup-link { margin-top: 12px; display: block; font-size: 14px; }    
    .signup-link a { color: #0066cc; text-decoration: none; }    
    .signup-link a:hover { text-decoration: underline; }    

    /* Skeleton styles */    
    .skeleton {    
      background: #ddd;    
      border-radius: 6px;    
      margin-bottom: 14px;    
      animation: pulse 1.5s infinite ease-in-out;    
    }    
    .skeleton.title { height: 28px; width: 30%; margin-bottom: 20px; }    
    .skeleton.input { height: 42px; width: 100%; }    
    .skeleton.button { height: 44px; width: 100%; border-radius: 8px; }    
    .skeleton.link { height: 16px; width: 70%; margin-top: 12px; }    

    @keyframes pulse {    
      0% { background-color: #e0e0e0; }    
      50% { background-color: #f5f5f5; }    
      100% { background-color: #e0e0e0; }    
    }    

    #content { display: none; }    
  </style>    
</head>    
<body>    

  <!-- ✅ Splash Screen -->
  <div id="splash">
    <img src="{% static 'images/chat.png' %}" alt="App Logo" /> <!-- Replace logo.png with your app logo -->
  </div>

  <!-- Skeleton Loader -->    
  <div id="skeleton">    
    <div class="skeleton title"></div>    
    <div class="skeleton input"></div>    
    <div class="skeleton input"></div>    
    <div class="skeleton button"></div>    
    <div class="skeleton link"></div>    
  </div>    

  <!-- Real Content -->    
  <div id="content">    
    <h1>Login</h1>    

{% if messages %}
        
    {% for message in messages %}
    <p>{{message}}</p>
    {% endfor %}
        
{% endif %}

    <form method="post">  
        {% csrf_token %}   
      <!-- Username or Email -->    
      <div class="field">    
        <label for="username">Username or Email</label>    
        <input    
          type="text"    
          id="username"    
          name="user_check"    
          placeholder="Enter your username or email"    
          required    
        />    
      </div>    

      <!-- Password -->    
      <div class="field">    
        <label for="password">Password</label>    
        <input    
          type="password"    
          id="password"    
          name="password"    
          placeholder="Enter your password"    
          minlength="6"    
          autocomplete="current-password"    
          required    
        />    
      </div>    

      <!-- Submit -->    
      <div class="actions">    
        <button type="submit" name="login">Login</button>    
      </div>    

      <!-- Sign up link -->    
      <div class="signup-link">    
        Don’t have an account? <a href="{% url 'register' %}">Sign up here</a>    
      </div>    
    </form>    
  </div>    

  <script>    
    // ✅ Show splash then skeleton then real content
    window.addEventListener("load", function () {    
      setTimeout(() => {    
        document.getElementById("splash").classList.add("hidden"); // hide splash
        setTimeout(() => {
          document.getElementById("skeleton").style.display = "none";    
          document.getElementById("content").style.display = "block";    
        }, 1000); // skeleton delay
      }, 1500); // splash screen duration
    });    
  </script>    

</body>    
</html>